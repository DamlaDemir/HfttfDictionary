
@{
    ViewBag.Title = "Register";
}

<br />
<br />
<div class="card card-register mx-auto mt-5">
    <div class="card-body">
        <form>
            <div class="form-group">
                <div class="row">
                    <div class="col-md-6">
                        <label for="exampleInputName">Kullanıcı adınız</label>
                        <input type="text" class="form-control" id="kullaniciAdi" aria-describedby="nameHelp" placeholder="Adınızı giriniz">
                    </div>
                    <div class="col-md-6">
                        <label for="exampleInputLastName">Açıklama</label>
                        <input type="text" class="form-control" id="aciklama" aria-describedby="nameHelp" placeholder="Soyadınızı giriniz">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-md-12">
                        <label for="exampleInputEmail1">Email adresiniz</label>
                        <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Email Giriniz">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-md-6">
                        <label for="exampleInputPassword1">Şifre</label>
                        <input type="password" class="form-control" id="password1" placeholder="Şifrenizi giriniz">
                    </div>
                    <div class="col-md-6">
                        <label for="exampleConfirmPassword">Şifrenizi tekrar giriniz</label>
                        <input type="password" class="form-control" id="password2" placeholder="Şifrenizi tekrar giriniz">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-md-12">
                        <button type="button" class="btn btn-s btn-block btn-success" id="registerButton" style="width:200px;">Kayıt Ol</button>
                    </div>
                </div>
            </div>

        </form>
    </div>
</div>
@section scripts{
    <script type="text/javascript">
    $(function () {
        $("#registerButton").click(function () {
            if ($("#password1").val() == $("#password2").val()) {
                var name = $("#kullaniciAdi").val();
                var email = $("#email").val();
                var password = $("#password1").val();
                var aciklama = $("#aciklama").val();

                var parametre = {
                    kullaniciAdi: name,
                    kullaniciParola: password,
                    kullaniciEmail: email,
                    kullaniciAciklama: aciklama
                }
                $.ajax({
                    url: '/api/Values/KayitOl',
                    type: 'POST',
                    datatype: 'application/json',
                    data: parametre,
                    success: function (data) {
                        if (data)
                            alert("Kayıt başarıyla tamamlandı.");
                        else
                            alert("Hata");
                    }
                });
            }
            else
                alert("Şifreler aynı olmalı.");
        });
    });
    </script>
}